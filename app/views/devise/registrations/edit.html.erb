<% if current_user.admin %>
  <li>
    <div class="m-4">
      sul server -
      ENV[ENDPOINT_SECRET]
      ssh  stripe login - 26 febbraio
    </div>
  </li>
<% end %>
<section class="mt-5">
  <div class="flex flex-col  px-6 py-8 mx-auto lg:py-0">
    <div class="w-full bg-white   md:mt-0 sm:max-w-md xl:p-0  -gray-700">
      <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
        <%#= render 'shared/nav_profile' %>
        <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl ">
          Account <%#= image_tag 'home/logo_pc.png', class:"h-8 ml-4 mt-3 sm:h-9  " %>
        </h1>
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), data: {turbo: false}, html: {method: :put, class: "space-y-4 md:space-y-6"}) do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>
          <div>
            <%= f.label :nome_e_cognome, class: "block mb-2 text-sm font-medium text-gray-900 " %>
            <%= f.text_field :nome_cognome, autofocus: true,  placeholder: "Nome e Cognome", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600   " %>
          </div>
          <div>
            <%= f.label :avatar_url, class: "block mb-2 text-sm font-medium text-gray-900 " %>
            <%= f.text_field :avatar_url, autofocus: true,  placeholder: "url foto profilo", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600   " %>
          </div>
          <div>
            <%= f.label :telefono, class: "block mb-2 text-sm font-medium text-gray-900 " %>
            <%= f.text_field :telefono, autocomplete: "telefono", placeholder: "Num. di telefono", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600   " %>
          </div>
          <div>
            <%= f.label :email, class: "block mb-2 text-sm font-medium text-gray-900 " %>
            <%= f.email_field :email, autocomplete: "email", placeholder: "L'email che userai per accedere", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600   " %>
          </div>
          <div class="mb-4">
            <%= f.label :username, class: "block mb-2 text-sm font-medium text-gray-900 " %>
            <%= f.text_field :username, autofocus: true,  placeholder: "username lettere_minuscole_o_numeri", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600", required: true %>
          </div>
          <%#= f.label :time_zone, class: "block mb-2 text-sm font-medium text-gray-900 " %>
          <%#= f.time_zone_select :time_zone, ActiveSupport::TimeZone.all.sort, { default: 'Rome' }, { class: 'bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600', id: 'time-zone-select', required: true } %>
          <%#= f.text_field :time_zone %>
          <div class="field">
          </div>
          <div class="mt-4 border-2 rounded-lg p-4 <% if !params["passm"].present? %> hidden<% end %>">
            <div>
              <%= f.label :imposta_nuova_password, class: "block  mb-2 text-sm font-medium text-gray-900 " %>
              <% if @minimum_password_length %>
                <p class="text-sm font-light text-gray-500">(<%= @minimum_password_length %> characters minimum)</p>
              <% end %>
              <%= f.password_field :password, autofocus: true, autocomplete: "new-password", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600   " %>
              <!--p class="text-sm font-light text-gray-500">(leave blank if you don't want to change it)</p-->
            </div>
            <div>
              <%= f.label :ripeti_nuova_password, "Password confirmation", class: "block m-4 text-sm font-medium text-gray-900 " %>
              <%= f.password_field :password_confirmation, autofocus: true, autocomplete: "new-password", class: "bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5  -gray-600   " %>
            </div>
          </div>
          <% if current_user.nome_cognome %>
            <div class="<% if params["passm"].present? %> hidden<% end %> mt-4">
              <%= link_to  edit_registration_path(current_user, passm: "modifica", class:"pt-4") do %>
                <p class="text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300  shadow-lg shadow-green-500/50  font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2">Cambia password</p>
              <% end %>
            </div>
          <% end %>
          <div class=" <% if !params["passm"].present? %> hidden<% end %>">
            <%= link_to  edit_registration_path(current_user) do %>
              <br>
              <p class="text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300  shadow-lg shadow-green-500/50  font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2">Annulla</p>
            <% end %>
          </div>
          <button type="submit" class="mt-4 w-full text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300  shadow-lg shadow-green-500/50  font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2">Aggiorna account</button>
          <p class="text-sm font-light text-gray-500 ">
            Unhappy? 
            <%= link_to "Cancel my account", registration_path(resource_name), 
              data: { turbo_confirm: "Are you sure?", turbo_method: :delete},
              class: "font-semibold text-red-600 hover:underline " %>
          </p>
        <% end %>
      </div>
    </div>
  </div>
</section>
